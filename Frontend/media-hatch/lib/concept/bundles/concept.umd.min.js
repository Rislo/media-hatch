!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/forms"),require("@angular/common/http"),require("rxjs/operators"),require("util"),require("rxjs"),require("@angular/core"),require("json2typescript")):"function"==typeof define&&define.amd?define("concept",["exports","@angular/forms","@angular/common/http","rxjs/operators","util","rxjs","@angular/core","json2typescript"],e):e(r.concept={},r.ng.forms,r.ng.common.http,r.rxjs.operators,r.util,r.rxjs,r.ng.core,r.json2typescript)}(this,function(r,e,S,i,A,t,n,o){"use strict";var a=(s.prototype.ngOnInit=function(){},s.decorators=[{type:n.Component,args:[{selector:"concept-basic-layout",template:'<div class="header">\r\n  <ng-content select="header"></ng-content>\r\n</div>\r\n<div class="nav">\r\n  <ng-content select="nav"></ng-content>\r\n</div>\r\n<div class="content">\r\n  <ng-content select="content"></ng-content>\r\n</div>',styles:[':host{display:-ms-grid;display:grid;grid-template-areas:"side header" "side content";-ms-grid-columns:auto 1fr;grid-template-columns:auto 1fr;-ms-grid-rows:auto 1fr;grid-template-rows:auto 1fr;height:100vh}:host ::ng-deep>*>*{display:block}:host>.header{-ms-grid-row:1;-ms-grid-column:2;grid-area:header}:host>.nav{-ms-grid-row:1;-ms-grid-row-span:2;-ms-grid-column:1;grid-area:side}:host>.content{-ms-grid-row:2;-ms-grid-column:2;grid-area:content}']}]}],s.ctorParameters=function(){return[]},s);function s(){}function c(n,o){return function(r){var e=r.controls[n],t=r.controls[o];return e&&t?t.errors&&!t.errors.mustMatch?null:void(e.value!==t.value?t.setErrors({mustMatch:!0}):t.setErrors(null)):null}}var u=(l.getConfirmPasswordErrorMessage=function(r){return r.errors?r.errors.required?"Required":"Confirm password must match with new password":null},l.prototype.validate=function(r){return c(this.mustMatch[0],this.mustMatch[1])(r)},l.decorators=[{type:n.Directive,args:[{selector:"[conceptMustMatch]",providers:[{provide:e.NG_VALIDATORS,useExisting:l,multi:!0}]}]}],l.propDecorators={mustMatch:[{type:n.Input,args:["conceptMustMatch"]}]},l);function l(){this.mustMatch=[]}var p=(f.decorators=[{type:n.NgModule,args:[{declarations:[a,u],imports:[],exports:[a,u]}]}],f);function f(){}var d=(h.getJsonHeaderValue=function(r,e){var t=r.headers.get(e);return t?JSON.parse(t):null},h);function h(){}var y=function(r,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(r,e)};function g(r,e){function t(){this.constructor=r}y(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}function v(r,e,t,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,n);else for(var s=r.length-1;0<=s;s--)(o=r[s])&&(a=(i<3?o(a):3<i?o(e,t,a):o(e,t))||a);return 3<i&&a&&Object.defineProperty(e,t,a),a}function m(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)}function H(r){var e="function"==typeof Symbol&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}}function b(r,e){this.field=r,this.value=e}var E=(j.prototype.getTableRequestParameters=function(r){var e,t,n=new S.HttpParams;if(r){n=r.sort?n.append(this.config.sortKey,r.sort):n,n=r.orderDesc?n.append(this.config.orderKey,r.orderDesc.toString()):n;try{for(var o=H(r.filters||[]),i=o.next();!i.done;i=o.next()){var a=i.value;n=n.append(a.field,a.value)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=o["return"])&&t.call(o)}finally{if(e)throw e.error}}}return n},j.prototype.getTablePaginationRequestParameters=function(r){var e,t,n=new S.HttpParams;n=r.sort?n.append(this.config.sortKey,r.sort):n,n=r.orderDesc?n.append(this.config.orderKey,r.orderDesc.toString()):n,n=r.currentPage?n.append(this.config.pageNbKey,r.currentPage.toString()):n,n=r.pageSize?n.append(this.config.pageSizeKey,r.pageSize.toString()):n;try{for(var o=H(r.filters||[]),i=o.next();!i.done;i=o.next()){var a=i.value;n=n.append(a.field,a.value)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=o["return"])&&t.call(o)}finally{if(e)throw e.error}}return n},j.defaultConfig={pageSizeKey:"_limit",pageNbKey:"_page",sortKey:"_sort",orderKey:"_order"},j);function j(r){void 0===r&&(r=j.defaultConfig),this.config=r}var w=(x.serialize=function(r){return x.jsonConvert.serializeObject(r)},x.serializeArray=function(r){return x.jsonConvert.serializeArray(r)},x.deserialize=function(r,e){return x.jsonConvert.deserializeObject(r,e)},x.deserializeArray=function(r,e){return x.jsonConvert.deserializeArray(r,e)},x.jsonConvert=new o.JsonConvert(undefined,o.ValueCheckingMode.ALLOW_NULL),x);function x(){}var O=(P.prototype.get=function(r,e){return this.http.get(this.startsUrl+r,e).pipe(i.catchError(this.handleError()))},P.prototype.getArrayBuffer=function(r,e){return this.http.get(this.startsUrl+r,Object.assign({},e,{responseType:"arraybuffer"})).pipe(i.catchError(this.handleError()))},P.prototype.getBlob=function(r,e){return this.http.get(this.startsUrl+r,Object.assign({},e,{responseType:"blob"})).pipe(i.catchError(this.handleError()))},P.prototype.post=function(r,e,t){return this.http.post(this.startsUrl+r,e,t).pipe(i.catchError(this.handleError()))},P.prototype.postAndReturnId=function(r,e,t){return this.http.post(this.startsUrl+r,w.serialize(e),t).pipe(i.map(function(r){return r}),i.catchError(this.handleError()))},P.prototype.postAndReturnObject=function(r,e,t){return this.http.post(this.startsUrl+r,w.serialize(e),t).pipe(i.catchError(this.handleError()))},P.prototype.postAndReturnJson=function(r,e,t,n){return this.post(r,e,n).pipe(i.map(function(r){return w.deserialize(r,t)}),i.catchError(this.handleError()))},P.prototype.put=function(r,e,t){return this.http.put(this.startsUrl+r,w.serialize(e),t).pipe(i.mapTo(void 0),i.catchError(this.handleError()))},P.prototype.putAndReturnObject=function(r,e,t){return this.http.put(this.startsUrl+r,w.serialize(e),t).pipe(i.map(function(r){return r}),i.catchError(this.handleError()))},P.prototype.patch=function(r,e,t){return this.http.patch(this.startsUrl+r,w.serialize(e),t).pipe(i.catchError(this.handleError()))},P.prototype.deleteFromRoute=function(r,e){return this.http["delete"](this.startsUrl+r,e).pipe(i.mapTo(void 0),i.catchError(this.handleError()))},P.prototype.deleteAndReturnObject=function(r,e){return this.http["delete"](this.startsUrl+r,e).pipe(i.map(function(r){return r}),i.catchError(this.handleError()))},P.prototype.getJson=function(r,e,t){return this.http.get(this.startsUrl+r,t).pipe(i.map(function(r){return w.deserialize(r,e)}),i.catchError(this.handleError()))},P.prototype.getJsonArray=function(r,e,t,n){return this.http.get(this.startsUrl+r,{params:this.getMergedHttpParams(t,n)}).pipe(i.map(function(r){return w.deserializeArray(r,e)}),i.catchError(this.handleError()))},P.prototype.getJsonArrayPagination=function(r,e,t,n){return this.getArrayBodyWithHeaders(e,[U.httpPaginationHeader],t,Object.assign({params:this.dataListQueryHelper.getTablePaginationRequestParameters(r)},n)).pipe(i.map(function(r){return{pagination:r.headers.get(U.httpPaginationHeader),collection:r.body}}),i.catchError(this.handleError()))},P.prototype.getJsonBodyWithHeaders=function(r,e,t,n){var o=this;return this.http.get(this.startsUrl+r,Object.assign(n||{},{observe:"response"})).pipe(i.map(function(r){return o.extractBodyWithHeaders(r,e,t)}),i.catchError(this.handleError()))},P.prototype.getRawBodyWithHeaders=function(r,e,t){var n=this;return this.http.get(this.startsUrl+r,Object.assign(t||{},{observe:"response"})).pipe(i.map(function(r){return n.extractBodyWithHeaders(r,e)}),i.catchError(this.handleError()))},P.prototype.getArrayBodyWithHeaders=function(r,e,t,n){var o=this;return this.http.get(this.startsUrl+r,Object.assign(n||{},{observe:"response"})).pipe(i.map(function(r){return o.extractArrayBodyWithHeaders(r,e,t)}),i.catchError(this.handleError()))},P.prototype.extractHeaders=function(r,e){var t,n,o=new Map;try{for(var i=H(e),a=i.next();!a.done;a=i.next()){var s=a.value;o.set(s,d.getJsonHeaderValue(r,s))}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i["return"])&&n.call(i)}finally{if(t)throw t.error}}return o},P.prototype.extractBodyWithHeaders=function(r,e,t){var n=new z;return n.headers=this.extractHeaders(r,e),n.body=t?w.deserialize(r.body,t):r.body,n},P.prototype.extractArrayBodyWithHeaders=function(r,e,t){var n=new I;return n.headers=this.extractHeaders(r,e),n.body=w.deserializeArray(r.body,t),n},P.prototype.setHttpParams=function(r,e,t){return A.isNullOrUndefined(t)&&(t=new S.HttpParams),A.isNullOrUndefined(e)?t:e instanceof Date?t.set(r,e.toISOString()):e instanceof Array?0<e.length&&e[0]instanceof Object?t.set(r,JSON.stringify(w.serializeArray(e))):t.set(r,JSON.stringify(e)):e instanceof Object?t.set(r,JSON.stringify(w.serialize(e))):"string"==typeof e?t.set(r,e):t.set(r,JSON.stringify(e))},P.prototype.getMergedHttpParams=function(r,e){var t,n,o,i,a,s,c,u,l=this.dataListQueryHelper.getTableRequestParameters(e);if(!A.isNullOrUndefined(r)&&!A.isNullOrUndefined(r.params))if(r.params instanceof S.HttpParams)try{for(var p=H(r.params.keys()),f=p.next();!f.done;f=p.next()){var d=f.value;try{for(var h=H(r.params.getAll(d)),y=h.next();!y.done;y=h.next()){var g=y.value;l=l.append(d,g)}}catch(j){o={error:j}}finally{try{y&&!y.done&&(i=h["return"])&&i.call(h)}finally{if(o)throw o.error}}}}catch(w){t={error:w}}finally{try{f&&!f.done&&(n=p["return"])&&n.call(p)}finally{if(t)throw t.error}}else try{for(var v=H(Object.keys(r.params)),m=v.next();!m.done;m=v.next())if(d=m.value,r.params[d]instanceof Array)try{for(var b=H(r.params[d]),E=b.next();!E.done;E=b.next())g=E.value,l=l.append(d,g)}catch(x){c={error:x}}finally{try{E&&!E.done&&(u=b["return"])&&u.call(b)}finally{if(c)throw c.error}}else l=l.append(d,r.params[d])}catch(O){a={error:O}}finally{try{m&&!m.done&&(s=v["return"])&&s.call(v)}finally{if(a)throw a.error}}return l},P.prototype.handleError=function(){var e=this;return function(r){return r.error instanceof ErrorEvent?e.logger.error("An error occurred: "+r.error.message):r instanceof TypeError?e.logger.error("Type convertion: "+r.message):e.logger.error(r.message),t.throwError(r.name)}},P);function P(r,e,t,n){void 0===t&&(t=""),void 0===n&&(n=E.defaultConfig),this.http=r,this.logger=e,this.startsUrl=t,this.dataListQueryHelper=new E(n)}function M(){}var R,z=function ir(){},I=function ar(){},U=(g(C,R=M),C.httpPaginationHeader="x-pagination",C);function C(){return null!==R&&R.apply(this,arguments)||this}function J(){}function D(r){this.name="concept error",this.message=r}var T,_=(g(q,T=D),q);function q(r){var e=T.call(this,r)||this;return e.name="model error",e}var N,W=(g(k,N=O),k.prototype.create=function(r){return r?this.postAndReturnObject("",r):t.throwError(new _("created user group mustn't be null."))},k.prototype.read=function(r){return r?this.getJson("/"+r,this.type):t.throwError(new ReferenceError("null reference user group id"))},k.prototype.readAll=function(){return this.getJsonArray("",this.type)},k.prototype.update=function(r){return r&&r.id?this.put("/"+r.id,r):t.throwError(new _("updated user group mustn't be null and must have an id."))},k.prototype["delete"]=function(r){return(r="object"==typeof r?r.id:r)?this.deleteFromRoute("/"+r):t.throwError(new ReferenceError("null reference user group id"))},k);function k(r,e,t,n,o){void 0===n&&(n=""),void 0===o&&(o=E.defaultConfig);var i=N.call(this,r,t,n,o)||this;return i.httpClient=r,i.type=e,i.logger=t,i}function L(){}var B,K=(g(V,B=L),V.prototype.trace=function(r){this.log("Trace",r)},V.prototype.debug=function(r){this.log("Debug",r)},V.prototype.info=function(r){this.log("Info",r)},V.prototype.warning=function(r){this.log("Warning",r)},V.prototype.error=function(r){this.log("Error",r)},V.prototype.fatal=function(r){this.log("Fatal",r)},V.prototype.log=function(r,e){var t="["+r+"] "+(new Date).toISOString()+": "+e;switch(r){case"Trace":case"Debug":case"Info":console.log(t);break;case"Warning":console.warn(t);break;case"Error":case"Fatal":console.error(t)}},V.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],V.ngInjectableDef=n.defineInjectable({factory:function(){return new V},token:V,providedIn:"root"}),V);function V(){return null!==B&&B.apply(this,arguments)||this}var F,Q=new n.InjectionToken("multi-logger logger services"),G=(g(X,F=L),X.prototype.trace=function(r){var e,t;try{for(var n=H(this.loggerServices),o=n.next();!o.done;o=n.next())o.value.trace(r)}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}},X.prototype.debug=function(r){var e,t;try{for(var n=H(this.loggerServices),o=n.next();!o.done;o=n.next())o.value.debug(r)}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}},X.prototype.info=function(r){var e,t;try{for(var n=H(this.loggerServices),o=n.next();!o.done;o=n.next())o.value.info(r)}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}},X.prototype.warning=function(r){var e,t;try{for(var n=H(this.loggerServices),o=n.next();!o.done;o=n.next())o.value.warning(r)}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}},X.prototype.error=function(r){var e,t;try{for(var n=H(this.loggerServices),o=n.next();!o.done;o=n.next())o.value.error(r)}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}},X.prototype.fatal=function(r){var e,t;try{for(var n=H(this.loggerServices),o=n.next();!o.done;o=n.next())o.value.fatal(r)}catch(i){e={error:i}}finally{try{o&&!o.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}},X.prototype.log=function(r,e){var t,n;try{for(var o=H(this.loggerServices),i=o.next();!i.done;i=o.next())i.value.log(r,e)}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}},X.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],X.ctorParameters=function(){return[{type:Array,decorators:[{type:n.Inject,args:[Q]}]}]},X.ngInjectableDef=n.defineInjectable({factory:function(){return new X(n.inject(Q))},token:X,providedIn:"root"}),X);function X(r){var e=F.call(this)||this;return e.loggerServices=r,e}var Y={Info:0,Warning:1,Error:2,Success:3};Y[Y.Info]="Info",Y[Y.Warning]="Warning",Y[Y.Error]="Error",Y[Y.Success]="Success";var Z=($.notify=function(r,e,t){r&&r.notify(e,t)},$);function $(){}var rr=(v([o.JsonProperty("key"),m("design:type",Object)],er.prototype,"key",void 0),v([o.JsonProperty("value"),m("design:type",Object)],er.prototype,"value",void 0),er=v([o.JsonObject(),m("design:paramtypes",[Object,Object])],er));function er(r,e){this.key=null,this.value=null,this.key=r,this.value=e}var tr=(nr.prototype.serialize=function(r){return r.toISOString()},nr.prototype.deserialize=function(r){return r?new Date(r):null},nr=v([o.JsonConverter],nr));function nr(){}function or(r){return r&&"object"==typeof r&&!Array.isArray(r)}r.ConceptModule=p,r.mustMatch=function sr(e){return function(r){return r&&e?r.errors&&!r.errors.mustMatch?null:void(r.value!==e.value?r.setErrors({mustMatch:!0}):e.setErrors(null)):null}},r.getMustMatchError=function cr(r,e,t){return r.errors&&r.errors.mustMatch?e+" must match with "+t+".":null},r.ResponseHeadersRetrieverHelper=d,r.DataListQueryFilter=b,r.DataListQueryHelper=E,r.HttpJsonToObjectService=O,r.BodyWithHeaders=z,r.ArrayBodyWithHeaders=I,r.TableParams=M,r.TablePaginationParams=U,r.PaginationCollection=J,r.CrudService=W,r.LoggerService=L,r.ConsoleLoggerService=K,r.MULTI_LOGGER_SERVICES=Q,r.MultiLoggerService=G,r.NotifyKind=Y,r.NotifyService=Z,r.KeyValuePair=rr,r.ConceptError=D,r.ModelError=_,r.controlErrorMessage=function ur(r){for(var e,t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];try{for(var i=H(n),a=i.next();!a.done;a=i.next()){var s=a.value,c=s[0](r,s[1]);if(c)return c}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}return"Unknown error"},r.getRequiredError=function lr(r){return r.errors&&r.errors.required?"Required.":null},r.getEmailError=function pr(r){return r.errors&&r.errors.email?"No valid email.":null},r.MustMatch=c,r.MustMatchDirective=u,r.JsonDateConverter=tr,r.JsonToTypedHelper=w,r.equals=function fr(r,e){if(r===e)return!0;if(null===r||null===e)return!1;if(r!=r&&e!=e)return!0;var t,n,o,i=typeof r;if(i==typeof e&&"object"==i){if(!Array.isArray(r)){if(Array.isArray(e))return!1;for(n in o=Object.create(null),r){if(!fr(r[n],e[n]))return!1;o[n]=!0}for(n in e)if(!(n in o)&&"undefined"!=typeof e[n])return!1;return!0}if(!Array.isArray(e))return!1;if((t=r.length)==e.length){for(n=0;n<t;n++)if(!fr(r[n],e[n]))return!1;return!0}}return!1},r.isDefined=function dr(r){return null!=r},r.isObject=or,r.mergeDeep=function hr(n,o){var i=Object.assign({},n);return or(n)&&or(o)&&Object.keys(o).forEach(function(r){var e,t;or(o[r])?r in n?i[r]=hr(n[r],o[r]):Object.assign(i,((e={})[r]=o[r],e)):Object.assign(i,((t={})[r]=o[r],t))}),i},r.ɵa=a,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=concept.umd.min.js.map